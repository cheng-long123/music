(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4446c7c"],{"159b":function(t,e,a){var s=a("da84"),n=a("fdbc"),i=a("17c2"),r=a("9112");for(var c in n){var o=s[c],l=o&&o.prototype;if(l&&l.forEach!==i)try{r(l,"forEach",i)}catch(u){l.forEach=i}}},"17c2":function(t,e,a){"use strict";var s=a("b727").forEach,n=a("a640"),i=a("ae40"),r=n("forEach"),c=i("forEach");t.exports=r&&c?[].forEach:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}},"250a":function(t,e,a){},4160:function(t,e,a){"use strict";var s=a("23e7"),n=a("17c2");s({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},a640:function(t,e,a){"use strict";var s=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&s((function(){a.call(null,e||function(){throw 1},1)}))}},c25d:function(t,e,a){"use strict";var s=a("250a"),n=a.n(s);n.a},efe3:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-container"},[a("div",{staticClass:"title"},[a("h1",{staticClass:"search-text"},[t._v(t._s(t.$route.query.q))]),a("span",{staticClass:"search-result"},[t._v("找到"+t._s(t.count)+"个结果")])]),a("el-tabs",{model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"歌曲",name:"songs"}},[a("table",{staticClass:"table",attrs:{cellspacing:"0",cellpadding:"0"}},[a("thead",[a("tr",[a("th"),a("th",[t._v("音乐标题")]),a("th",[t._v("歌手")]),a("th",[t._v("专辑")]),a("th",[t._v("时长")])])]),a("tbody",t._l(t.songs,(function(e,s){return a("tr",{key:s,staticClass:"tr",on:{dblclick:function(a){return t.playMusic(e.id)}}},[a("td",[t._v(t._s(s+1))]),a("td",[a("div",{staticClass:"title"},[a("div",{staticClass:"title-text"},[a("span",[t._v(t._s(e.name))]),0!=e.mvid?a("span",{staticClass:"iconfont iconshipin",on:{click:function(a){return t.$router.push("/mv?id="+e.mvid)}}}):t._e()]),0!=e.alias.length?a("span",{staticClass:"singer"},[t._v(t._s(e.alias[0]))]):t._e()])]),a("td",[t._v(t._s(e.artists[0].name))]),a("td",[t._v(t._s(e.album.name))]),a("td",[t._v(t._s(t._f("time")(e.duration)))])])})),0)])]),a("el-tab-pane",{attrs:{label:"歌单",name:"playlist"}},[a("div",{staticClass:"content clearfix"},t._l(t.playlists,(function(e,s){return a("div",{key:s,staticClass:"playlist",on:{click:function(a){return t.toSongplay(e.id)}}},[a("div",{staticClass:"item-img"},[a("el-image",{attrs:{src:e.coverImgUrl}}),a("span",{staticClass:"box"},[t._v("播放量:"+t._s(e.playCount))]),a("span",{staticClass:"iconfont iconicon_play"})],1),a("span",[t._v(t._s(e.name))])])})),0)]),a("el-tab-pane",{attrs:{label:"MV",name:"mvs"}},[a("el-row",{attrs:{gutter:20}},t._l(t.mvs,(function(e,s){return a("el-col",{key:s,staticClass:"mvs",attrs:{xs:12,lg:6,span:6},nativeOn:{click:function(a){return t.$router.push("/mv?id = "+e.id)}}},[a("el-image",{attrs:{src:e.cover}}),a("span",{staticClass:"iconfont iconicon_play"}),a("span",{staticClass:"time"},[t._v(t._s(t._f("time")(e.duration)))]),a("div",{staticClass:"plays"},[a("i",{staticClass:"iconfont iconbofang1"}),t._v(" "+t._s(e.playCount)+" ")]),a("div",[t._v(t._s(e.name))]),a("div",{staticClass:"singer"},[t._v(t._s(e.artistName))])],1)})),1)],1)],1),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper",total:t.count,"current-page":t.page},on:{"current-change":t.handleCurrentChange}})],1)},n=[],i=(a("4160"),a("159b"),a("96cf"),a("1da1")),r=a("1857"),c={name:"SearchIndex",props:{},components:{},data:function(){return{massage:this.$route.query.q,songs:[],playlists:[],mvs:[],activeName:"songs",count:null,limit:30,type:1,total:null,page:1}},computed:{},watch:{$route:function(){this.massage=this.$route.query.q},massage:function(){this.getSearchResult()},activeName:function(){switch(this.activeName){case"songs":this.type=1,this.page=1;break;case"playlist":this.type=1e3,this.page=1;break;case"mvs":this.type=1004,this.page=1,this.limit=32;break;default:break}this.getSearchResult()}},methods:{getSearchResult:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["r"])({keywords:t.massage,limit:t.limit,offset:(t.page-1)*t.limit,type:t.type});case 2:a=e.sent,s=a.data,1===t.type?(t.massage=t.$route.query.q,t.songs=s.result.songs,t.count=s.result.songCount):1e3===t.type?(t.playlists=s.result.playlists,t.count=s.result.playlistCount,t.playlists.forEach((function(t){t.playCount>=1e5&&(t.playCount=parseInt(t.playCount/1e4)+"万")}))):1004===t.type&&(t.mvs=s.result.mvs,t.count=s.result.mvCount,t.mvs.forEach((function(t){t.playCount>=1e5&&(t.playCount=parseInt(t.playCount/1e4)+"万")})));case 5:case"end":return e.stop()}}),e)})))()},playMusic:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(r["s"])({id:t});case 2:s=a.sent,n=s.data,i=n.data[0].url,e.$store.commit("setMusicUrl",i);case 6:case"end":return a.stop()}}),a)})))()},handleCurrentChange:function(t){this.page=t,this.getSearchResult()},toSongplay:function(t){this.$router.push("/songplay?id=".concat(t))}},created:function(){this.getSearchResult()},mounted:function(){},beforeDestroy:function(){}},o=c,l=(a("c25d"),a("2877")),u=Object(l["a"])(o,s,n,!1,null,"f8a220a8",null);e["default"]=u.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-e4446c7c.6f6a5678.js.map