(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-459d809c"],{"39ef":function(t,a,e){},"3a32":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"songplay"},[e("div",{staticClass:"top-wrap"},[e("div",{staticClass:"image"},[e("img",{attrs:{src:t.playlist.coverImgUrl,alt:""}})]),e("div",{staticClass:"info"},[e("p",{staticClass:"title"},[t._v(t._s(t.playlist.name))]),e("div",{staticClass:"user-info"},[e("img",{staticClass:"avatar",attrs:{src:t.playlist.creator.avatarUrl,alt:""}}),e("span",{staticClass:"name"},[t._v(t._s(t.playlist.creator.nickname))]),e("span",{staticClass:"time"},[t._v(t._s(t._f("datetime")(t.playlist.createTime))+" 创建")])]),e("el-button",{attrs:{type:"danger"}},[e("i",{staticClass:"iconfont iconicon_play"}),e("span",[t._v("播放全部")])]),e("div",{staticClass:"tag-wrap"},[e("span",{staticClass:"label"},[t._v("标签:")]),e("ul",t._l(t.playlist.tags,(function(a,s){return e("li",{key:s},[t._v(t._s(a)+"/")])})),0)]),e("div",{staticClass:"brief"},[e("span",{staticClass:"text"},[t._v("简介:")]),e("span",{staticClass:"brief-text"},[t._v(t._s(t.playlist.description))])])],1)]),e("el-tabs",{model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"歌曲列表",name:"list"}},[e("table",{staticClass:"table",attrs:{cellspacing:"0",cellpadding:"0"}},[e("thead",[e("tr",[e("th"),e("th"),e("th",[t._v("音乐标题")]),e("th",[t._v("歌手")]),e("th",[t._v("专辑")]),e("th",[t._v("时长")])])]),e("tbody",t._l(t.playlist.tracks,(function(a,s){return e("tr",{key:s,staticClass:"tr",on:{dblclick:function(e){return t.playMusic(a.id)}}},[e("td",[t._v(t._s(s+1))]),e("td",[e("div",{staticClass:"img",on:{click:function(e){return t.playMusic(a.id)}}},[e("img",{staticClass:"image",attrs:{src:a.al.picUrl,alt:""}}),e("span",{staticClass:"iconfont iconicon_play"})])]),e("td",[e("div",{staticClass:"title"},[e("div",{staticClass:"title-text"},[e("span",[t._v(t._s(a.name))]),0!=a.mv?e("span",{staticClass:"iconfont iconshipin",on:{click:function(e){return t.playMusic(a.id)}}}):t._e()]),e("span",{staticClass:"singer"},[t._v(t._s(a.alia[0]))])])]),e("td",[t._v(t._s(a.ar[0].name))]),e("td",[t._v(t._s(a.al.name))]),e("td",[t._v(t._s(t._f("time")(a.dt)))])])})),0)])]),e("el-tab-pane",{attrs:{name:"comment"}},[e("span",{attrs:{slot:"label"},slot:"label"},[t._v("评论("+t._s(t.newtotal)+")")]),e("div",{staticClass:"comment-wrap"},[e("p",{staticClass:"title"},[t._v("精彩评论"),e("span",{staticClass:"number"},[t._v("("+t._s(t.hottotal)+")")])]),e("div",{staticClass:"comments-wrap"},t._l(t.hotComment,(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"icon-wrap"},[e("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),e("div",{staticClass:"content-wrap"},[e("div",{staticClass:"content"},[e("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),e("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!==a.beReplied.length?e("div",{staticClass:"re-content"},[e("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+"：")]),e("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),e("div",{staticClass:"date"},[t._v("2020-02-12 17:26:11")])])])})),0)]),e("div",{staticClass:"comment-wrap"},[e("p",{staticClass:"title"},[t._v("最新评论"),e("span",{staticClass:"number"},[t._v("("+t._s(t.newtotal)+")")])]),e("div",{staticClass:"comments-wrap"},t._l(t.newComment,(function(a,s){return e("div",{key:s,staticClass:"item"},[e("div",{staticClass:"icon-wrap"},[e("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),e("div",{staticClass:"content-wrap"},[e("div",{staticClass:"content"},[e("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+"：")]),e("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!==a.beReplied.length?e("div",{staticClass:"re-content"},[e("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+"：")]),e("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),e("div",{staticClass:"date"},[t._v(t._s(t._f("datetime")(a.time)))])])])})),0)]),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.newtotal,"current-page":t.page,"page-size":5},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},n=[],i=(e("96cf"),e("1da1")),c=e("1857"),r={name:"SongPlay",props:{},components:{},data:function(){return{activeName:"list",limit:20,page:1,playlist:{},hotComment:[],hottotal:0,newComment:[],newtotal:0}},computed:{},watch:{},methods:{getDdetail:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["g"])({id:t.$route.query.id});case 2:e=a.sent,s=e.data,t.playlist=s.playlist;case 5:case"end":return a.stop()}}),a)})))()},handleCurrentChange:function(t){this.page=t,this.getNewComment()},playMusic:function(t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["s"])({id:t});case 2:s=e.sent,n=s.data,i=n.data[0].url,a.$store.commit("setMusicUrl",i);case 6:case"end":return e.stop()}}),e)})))()},getHot:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["i"])({id:t.$route.query.id,type:2});case 2:e=a.sent,s=e.data,t.hotComment=s.hotComments,t.hottotal=s.total;case 6:case"end":return a.stop()}}),a)})))()},getNewComment:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var e,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(c["m"])({id:t.$route.query.id,limit:10,offset:10*(t.page-1)});case 2:e=a.sent,s=e.data,t.newComment=s.comments,t.newtotal=s.total,console.log(s);case 7:case"end":return a.stop()}}),a)})))()}},created:function(){this.getDdetail(),this.getHot(),this.getNewComment()},mounted:function(){},beforeDestroy:function(){}},l=r,o=(e("3c78"),e("2877")),m=Object(o["a"])(l,s,n,!1,null,"4737c507",null);a["default"]=m.exports},"3c78":function(t,a,e){"use strict";var s=e("39ef"),n=e.n(s);n.a}}]);
//# sourceMappingURL=chunk-459d809c.1eab20af.js.map